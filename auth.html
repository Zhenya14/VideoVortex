<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è ‚Äì VideoVortex</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <style>
            body { 
            font-family: Arial, sans-serif; 
            background: linear-gradient(to right, #ff7e5f, #feb47b);
            color: #ffffff; 
            text-align: center; 
            padding: 0 20px; 
            margin: 0;
            min-height: 100vh; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
        }
        .container { 
    margin-top: 160px;
                width: 50%;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 10px;
    box-shadow: 0 4px 12px rgb(0 0 0 / 30%);
    padding: 10px 15px;
    margin-bottom: 10px;
}
        .auth-form, .register-form { 
            background: rgba(255, 255, 255, 0.1); 
            padding: 20px; 
            border-radius: 10px; 
            margin-top: 130px;
        }
        input[type="text"], input[type="file"], input[type="email"], input[type="password"], button, #video-description, #photo-description { 
            width: 100%; 
            padding: 10px 0; 
            margin: 10px 0; 
            border-radius: 35px; 
            border: none; 
            outline: none;
            font-size: 1em;
        }
img {
    padding: 0px 0px 0px 0px;
    height: 50px;
    width: 50px;
    border-radius: 80px;
        }
button { 
            background: #4facfe; 
            color: white; 
            border-radius: 35px;
            cursor: pointer; 
            font-weight: bold; 
            transition: background 0.3s ease;
        }
        button:hover { 
            background: #00f2fe;
        }
nav {
    display: flex;
    justify-content: center;
    padding: 10px 20px;
    background: rgb(26 26 26 / 68%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgb(0 0 0 / 20%);
    position: fixed;
    z-index: 100;
    width: 97%;
        }
        nav a {
color: #ffffff;
    text-decoration: none;
    border-radius: 35px;
    transition: color 0.3s ease, background 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
        }
        nav a:hover {
            background-color: #4facfe;
            color: #1c1e22;
        }
  </style>
</head>
<body>
<nav>
            <a href="index.html"><img src="VideoVortex_logo.ico" style="height: 50px; width: 50px; border-radius: 50%;">
            <h1 style="padding-left: 5px;">VideoVortex</h1><sup style="margin-left: 3px; font-size: 0.6em;">beta</sup></a>
</nav>
        </div>
<div class="container">
    <h2>–£–≤—ñ–π—Ç–∏</h2>
    <form id="auth-form">
      <input type="email" id="auth-email" placeholder="Email" required>
      <input type="password" id="auth-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
      <button type="submit">–£–≤—ñ–π—Ç–∏</button>
    </form>

    <h2>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h2>
    <form id="register-form">
      <input type="text" id="register-name" placeholder="–Ü–º‚Äô—è" required>
      <input type="text" id="register-supername" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ" required>
      <input type="date" id="birthdate" required>
      <input type="email" id="register-email" placeholder="Email" required>
      <input type="password" id="register-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
      <input type="password" id="register-confirmation-password" placeholder="–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" required>
      <button type="submit">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
    </form>
  </div>
</div>
  <script>
    // üîπ –ù–∞–ª–∞—à—Ç—É–π —Å–≤—ñ–π Firebase
    const firebaseConfig = {
                  apiKey: "AIzaSyBkPYP3bnDy61NFjRSboRZrfTVNTdIMWbY",
            authDomain: "videovortex-235cd.firebaseapp.com",
            databaseURL: "https://videovortex-235cd-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "videovortex-235cd",
            storageBucket: "videovortex-235cd.appspot.com",
            messagingSenderId: "681594250269",
            appId: "1:681594250269:web:1176b21fcc8fe2a7d052f4"
    };
    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();
    const database = firebase.database();

    // üü¢ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
    document.getElementById("auth-form").addEventListener("submit", (e) => {
      e.preventDefault();
      const email = document.getElementById("auth-email").value;
      const password = document.getElementById("auth-password").value;

      auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          alert("–í—Ö—ñ–¥ —É—Å–ø—ñ—à–Ω–∏–π!");
          window.location.href = "index.html"; // –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É
        })
        .catch((error) => {
          alert("–ü–æ–º–∏–ª–∫–∞ –≤—Ö–æ–¥—É: " + error.message);
        });
    });

    // üü¢ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
    document.getElementById("register-form").addEventListener("submit", (e) => {
  e.preventDefault();

  const name = document.getElementById("register-name").value.trim();
  const supername = document.getElementById("register-supername").value.trim();
  const email = document.getElementById("register-email").value.trim();
  const password = document.getElementById("register-password").value.trim();
  const confirmation = document.getElementById("register-confirmation-password").value.trim();
  const birthInput = document.getElementById("birthdate").value;

  if (!name || !supername || !email || !password || !confirmation || !birthInput) {
    alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!");
    return;
  }

  if (password !== confirmation) {
    alert("–ü–∞—Ä–æ–ª—ñ –Ω–µ –∑–±—ñ–≥–∞—é—Ç—å—Å—è!");
    return;
  }

  const [year, month, day] = birthInput.split("-");
  const birthdate = `${day}.${month}.${year}`;

  auth.createUserWithEmailAndPassword(email, password)
    .then((userCredential) => {
      const uid = userCredential.user.uid;

      return database.ref("users/" + uid).set({
        name: name,
        supername: supername,
        email: email,
        birthdate: birthdate
      });
    })
    .then(() => {
      alert("–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!");
      window.location.href = "index.html";
    })
    .catch((error) => {
      alert("–ü–æ–º–∏–ª–∫–∞: " + error.message);
    });
});
  </script>
</body>
</html>
